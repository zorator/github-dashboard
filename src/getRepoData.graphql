query GetRepoData($owner: String!, $repoName: String!, $withIndicators: Boolean!) {
    repository(owner: $owner, name: $repoName) {
        refs(refPrefix: "refs/heads/", first: 1) @include(if: $withIndicators) {
            totalCount
        }
        pullRequests(first: 50, states: OPEN) {
            nodes {
                id
                isDraft
                title
                number
                url
                author {
                    login,
                    avatarUrl
                }
                commits(last: 1) {
                    nodes {
                        commit {
                            statusCheckRollup {
                                state
                            }
                        }
                    }
                }
                reviews(first: 100) {
                    nodes {
                        id
                        author {
                            login,
                            avatarUrl
                        }
                        state
                    }
                }
            }
        }
        latestRelease @include(if: $withIndicators) {
            tagName
            url
            tag {
                compare(headRef: "main") {
                    aheadBy
                    commits(first: 50) {
                        nodes {
                            message
                        }
                    }
                }
            }
        }
    }
}